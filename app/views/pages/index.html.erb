<div class="hero well span6 offset3">
	<h3>Welcome to Fruitr</h3>
		<br/>
		<p>
			Fruitr is an experiment with the Echonest API.	
			It is an exposition of the idea stated <a href="http://www.rishighan.com/thesis/coconuts-and-collateral"> here</a>
The initial idea calculates the Pearson product-moment coefficient of correlation between the hotttnesss and familiarity ratings retrieved from Echonest. This helps to add a layer of verification on top of the numerical ratings that Echonest applies to intangible concepts such as how 'hot' an artist is.
			</p><br/>
		<h4>Enter an artist name and hit 'Search'<h4>
		<br/>	
		<%= form_tag '/', :class=> "form-search", :method=>:get do  %>
		
		
		<%=label :genre, "Genre"%>
		<%= text_field_tag :genre, params[:genre], :class=>"input-medium search-query" %>
		<br/><br/>
		<%= label :startyear, "Start Year" %>
		<%= text_field_tag :startyear, params[:startyear], :class=>"input-small search-query" %>
		<br/><br/>
		<%= label :endyear, "End year" %>
		<%= text_field_tag :endyear, params[:endyear], :class=>"input-small search-query" %>
		
		<%= submit_tag "Fruitify!", :id => "submit", :name => "submit", :class => "btn btn-primary", :disabled => false, :disable_with => "Please wait..." %>

	  	<%end%>

</div>	

<div class="artists well span6 offset3">

<%unless @search.nil? %>		

  <!-- search method results -->
  <%= render :partial => "search_artist" %>

 <%end%>




	
</div>
<script type="text/javascript" charset="utf-8">
	var chart1, chart2; // globally available
	$(document).ready(function() {
	      chart1 = new Highcharts.Chart({
	         chart: {
	            renderTo: 'hotfamchart',
	            type: 'line'
	         },
	         title: {
	            text: 'Hotttnesss vs. Familiarity'
	         },
	         xAxis: {
	            title:
					{
						text:'Hotttnesss'
					}
	         },
	         yAxis: {
	            title: {
	               text: 'Familiarity'
	            }
	         },
	         series: [{
	            name: 'Hotttnesss',
	            data: <%= @hotArray.inspect %>
	         }, {
	            name: 'Familiarity',
	            data: <%= @famArray.inspect %>
	         }]
	      });
	
	    // blogs vs news
		chart2 = new Highcharts.Chart({
	         chart: {
	            renderTo: 'blognewschart',
	            type: 'line'
	         },
	         title: {
	            text: 'Total blogs vs. total news'
	         },
	         xAxis: {
	            title:
					{
						text:'Blogs'
					}
	         },
	         yAxis: {
	            title: {
	               text: 'News'
	            }
	         },
	         series: [{
	            name: 'Blogs',
	            data: <%= @blogArray.inspect %>
	         }, {
	            name: 'News',
	            data: <%= @newsArray.inspect %>
	         }]
	      });
	   });

</script>
	